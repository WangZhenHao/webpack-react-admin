{"version":3,"file":"static/js/648.e5bfff03.chunk.js","mappings":"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","sources":["components/global/pageLayout/index.tsx","components/global/pageTable/index.tsx","hooks/eventListener.ts","api/system/roleList.ts","views/system/roleList/index.tsx"],"sourcesContent":["import \"./index.scss\";\n\ninterface SoltProps {\n    header?: JSX.Element;\n    content?: JSX.Element;\n    footer?: JSX.Element;\n}\n\nexport default function App(props: SoltProps) {\n    const header = props.header ? (\n        <div className=\"page-layout_header\">\n            <div className=\"header-block\">{props.header}</div>\n        </div>\n    ) : null;\n\n    const content = props.content ? (\n        <div className=\"page-layout_table\">{props.content}</div>\n    ) : null;\n\n    const footer = props.footer ? (\n        <div className=\"page-layout_footer\">{props.footer}</div>\n    ) : null;\n\n    return (\n        <>\n            <div className=\"page-layout\">\n                {header}\n                {content}\n                {footer}\n            </div>\n        </>\n    );\n}\n","import { Table } from \"antd\";\nimport { useWindowListener } from \"@/hooks/eventListener\";\nimport type { TableProps } from \"antd\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { debounce } from \"@js/utils/index\";\n\ninterface typeProps {\n    table: TableProps<any>;\n    attribuate?: any;\n    heightAuto?: Boolean;\n    keyAuto?: Boolean\n}\nfunction addKey(list: any[]) {\n    let index = 0\n    return list.map((item) => {\n        item.key = index++\n\n        return item;\n    })\n}\nexport default function App(props: typeProps) {\n    const tableProps = props.table;\n    const heightAuto = typeof props.heightAuto === 'boolean' ? props.heightAuto : true;\n    const tableRef = useRef(null);\n    const keyAuto = typeof props.keyAuto === 'boolean' ? props.keyAuto : true;\n\n    if(keyAuto) {\n        props.table.dataSource = addKey(JSON.parse(JSON.stringify(props.table.dataSource)))\n    }\n\n    const [scroll, setScroll] = useState({\n        scroll: props.table.scroll || {},\n    });\n\n    const rezieHandle = function () {\n        if (heightAuto && !props.table.scroll?.y) {\n            const parentNode = (tableRef.current! as Element).parentElement;\n            const tableHeader = parentNode?.querySelector(\".ant-table-thead\");\n\n            if (parentNode && tableHeader) {\n                let y =\n                    parentNode!.getBoundingClientRect().height -\n                    tableHeader.getBoundingClientRect().height - 15;\n\n                setScroll({\n                    scroll: {\n                        y,\n                        x: props.table.scroll?.x,\n                    },\n                });\n            }\n        }\n    };\n    // debugger\n\n    useEffect(() => {\n        rezieHandle();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    useWindowListener(\"resize\", debounce(rezieHandle, 100));\n    // let\n\n    return (\n        <>\n            <div ref={tableRef}>\n                <Table\n                    size=\"small\"\n                    bordered\n                    pagination={false}\n                    {...tableProps}\n                    {...scroll}\n                />\n            </div>\n        </>\n    );\n}\n","import { useEffect } from 'react';\n\nexport function useWindowListener(eventType: keyof WindowEventMap, listener: EventListenerOrEventListenerObject) {\n  useEffect(() => {\n    window.addEventListener(eventType, listener);\n    return () => {\n      window.removeEventListener(eventType, listener);\n    };\n  }, [eventType, listener]);\n}\n","import { ipost, iget } from '@js/axios';\n\nexport const getRoleList = function () {\n    return iget('/data/roleList.json');\n} as typeof $api.user.getRoleList;\n","import { getRoleList } from \"@api/system/roleList\";\nimport { useEffect, useState } from \"react\";\nimport PageLayout from \"@components/global/pageLayout\";\nimport { Form, Input, Button } from \"antd\";\nimport PageTable from \"@components/global/pageTable\";\n\ntype typeList = Awaited<ReturnType<typeof getRoleList>>[\"result\"];\n\nexport default function App() {\n    const [list, setList] = useState<typeList>([]);\n    useEffect(() => {\n        getRoleList().then((res) => {\n            setList(res.result);\n        });\n    }, []);\n\n    const header = (\n        <>\n            <Form layout=\"inline\">\n                <Form.Item name=\"note\" label=\"菜单名称\">\n                    <Input />\n                </Form.Item>\n                <Form.Item>\n                    <Button type=\"primary\">\n                        搜索\n                    </Button>\n                </Form.Item>\n            </Form>\n        </>\n    );\n\n    const col: $table.column[] = [\n        {\n            title: \"id\",\n            dataIndex: \"id\",\n            key: \"id\",\n        },\n        {\n            title: \"名称\",\n            dataIndex: \"name\",\n            key: \"name\",\n        },\n        {\n            title: \"角色代码\",\n            dataIndex: \"code\",\n            key: \"code\",\n        },\n        {\n            title: \"描述\",\n            dataIndex: \"description\",\n            key: \"description\",\n        },\n    ];\n\n    const content = <>\n        <PageTable table={{\n            dataSource: list,\n            columns: col\n        }} />\n    </>;\n\n    return (\n        <>\n            <PageLayout header={header} content={content} />\n        </>\n    );\n}\n"],"names":["App","props","header","_jsx","className","children","content","footer","_Fragment","_jsxs","tableProps","table","heightAuto","tableRef","useRef","keyAuto","dataSource","list","index","map","item","key","addKey","JSON","parse","stringify","scroll","setScroll","useState","rezieHandle","_props$table$scroll","y","parentNode","current","parentElement","tableHeader","querySelector","_props$table$scroll2","getBoundingClientRect","height","x","eventType","listener","useEffect","debounce","window","addEventListener","removeEventListener","ref","Table","size","bordered","pagination","getRoleList","iget","setList","then","res","result","Form","layout","Item","name","label","Input","Button","type","PageTable","columns","title","dataIndex","PageLayout"],"sourceRoot":""}